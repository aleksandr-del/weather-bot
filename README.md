# Weather-Bot

Простой и удобный Telegram-бот для получения прогноза погоды на ближайшие три дня. Проект написан на Python с использованием асинхронного фреймворка [aiogram](https://docs.aiogram.dev/en/latest/), что обеспечивает высокую производительность и отзывчивость.

---

## Возможности

- Прогноз погоды на 3 дня для выбранного города с подробностями по каждому дню
- Интерактивная клавиатура для выбора городов
- Поддержка ограничения доступа пользователей через user_id
- Лёгкая настройка через файл `.env`
- Централизованное логирование и обработка ошибок

---

## Требования

- Python 3.11 или выше
- Зависимости из `requirements.txt` (aiogram, requests, environs и др.)

---

## Установка и запуск

1. Зарегистрируйте бота в [@BotFather](https://t.me/BotFather) и получите токен
2. Получите API ключ для сервиса погоды (например, [WeatherAPI](https://www.weatherapi.com/))
3. Клонируйте репозиторий:

git clone https://github.com/aleksandr-del/weather-bot.git
cd weather-bot

4. Создайте файл `.env` в корне проекта и добавьте:

BOT_TOKEN=ваш_токен_бота
WEATHER_API_KEY=ваш_api_ключ_погоды
USER_IDS=123456789,987654321 # Список user_id, которые могут использовать бота


5. Установите зависимости:

pip install -r requirements.txt


6. Запустите бота:

python main.py


---

## Как использовать

- Отправьте команду `/start` для начала и получения приветственного сообщения с клавиатурой выбора города
- Выберите город из предложенных кнопок, чтобы получить подробный прогноз на три дня
- В случае ошибки бот уведомит о невозможности получить данные

---

## Структура проекта

.
├── main.py # Точка входа, запуск бота и установка роутеров
├── handlers/ # Обработчики команд и сообщений
│ └── user.py # Основные хэндлеры для взаимодействия с пользователем
├── filters/ # Кастомные фильтры (например, UserFilter для доступа)
│ └── filter.py
├── keyboard/ # Клавиатуры для выбора городов
│ ├── keyboard.py
│ └── cities.py
├── service/ # Работа с API прогноза погоды
│ └── weather_forecast.py
├── config/ # Загрузка конфигурации из .env
│ └── config.py
├── logger/ # Логирование
│ └── logging_config.py
├── requirements.txt # Зависимости проекта
└── README.md # Текущая документация


---

## Рекомендации и возможности для улучшения

- Переписать запросы к погодному API на полностью асинхронные (например, используя aiohttp)
- Добавить кэширование для снижения количества запросов к API
- Расширить список городов и добавить постраничную навигацию по клавиатуре
- Реализовать поддержку нескольких языков и форматов температуры
- Улучшить обработку ошибок и добавить подробное логирование
- Добавить автоматические тесты для обработки основных сценариев

---

## Лицензия

Проект распространяется под лицензией [MIT](https://opensource.org/licenses/MIT).

---

## Контакты и помощь

Если у вас возникли вопросы или предложения по улучшению, пожалуйста, создайте issue или свяжитесь со мной через GitHub.

---

Спасибо за использование Weather-Bot! Надеюсь, бот будет полезен и удобен для вас.
